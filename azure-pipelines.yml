# Docker
# Build a Docker image
# https://docs.microsoft.com/azure/devops/pipelines/languages/docker

trigger:
- master

stages:
- stage: Build 
  displayName: 'Build Stage'
  jobs:
  - job: BuildJob
    displayName: 'Build Docker Locally'
    steps:
      - task: Docker@2
        inputs:
          containerRegistry: 'DockerSC'
          repository: 'advikbalan2709/helloworld'
          command: 'build'
          Dockerfile: '**/Dockerfile.linux'
          tags: |
            $(Build.BuildId)

- stage: Push 
  displayName: 'Push Stage'
  jobs:
  - job: PushJob
    displayName: 'Push to Docker Hub'
    steps:
      - task: Docker@2
        inputs:
          containerRegistry: 'DockerSC'
          repository: 'advikbalan2709/helloworld'
          command: 'push'


        

